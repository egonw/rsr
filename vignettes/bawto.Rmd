---
title: "bawto"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{bawto}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(collapse = TRUE,comment = "#>")
```

<!-- ```{r setup, include=FALSE} -->
<!-- library(dplyr) -->
<!-- library(RSysrev) -->
<!-- library(ggplot2) -->
<!-- library(tidyr) -->
<!-- library(ggthemes) -->


<!-- .token <- askpass::askpass() -->
<!-- glDF   <- RSysrev::sysrev.getGroupLabelAnswers(81395) -->
<!-- glDF$biomarker %>% tibble() -->
<!-- ``` -->

<!-- # barplot -->
<!-- ```{r} -->
<!-- pdf = glDF$biomarker %>% group_by(biomarker.name) %>% count() %>% filter(n>1) -->
<!-- ggplot(pdf,aes(x=reorder(biomarker.name,n),y=n)) + geom_col() + coord_flip() + -->
<!--   scale_y_continuous(expand=c(0,0)) +  -->
<!--   theme_economist() + xlab("") -->
<!-- ``` -->

<!-- # heatmap -->
<!-- ```{r} -->
<!-- ggplot(glDF$biomarker %>% complete(biomarker.name,Article.ID,fill=list(eligibility="none")), -->
<!--        aes(x=biomarker.name,y=as.character(Article.ID),fill=eligibility)) + -->
<!--   geom_tile(col="black") + coord_equal() +  -->
<!--   scale_fill_manual(values=c("firebrick1","gray","chartreuse1","firebrick2","firebrick3")) +  -->
<!--   theme(axis.text.x = element_text(angle=45,hjust=1)) + ylab("") + xlab("") -->
<!-- ``` -->

<!-- # forestplot -->
<!-- ```{r} -->
<!-- example.dt = glDF$`Single Outcomes Ratio` %>%  -->
<!--   filter(biomarker == "BRCA1,BRCA2",outcome_type == "psa response") -->

<!-- m.gen = meta::metaprop( -->
<!--   event = as.numeric(num_response), -->
<!--   n = as.numeric(num_patients), -->
<!--   studlab = treatment, -->
<!--   data = example.dt -->
<!--   ) -->

<!-- meta::forest(m.gen,print.subgroup.labels=F) -->
<!-- ``` -->
