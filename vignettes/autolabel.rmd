---
title: "auto reviewing documents"
output: rmarkdown::html_vignette
description: >
  Learn how to automate article labeling
vignette: >
  %\VignetteIndexEntry{auto reviewing documents}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r}
library(jsonlite)
library(rsr)
# sysrev.getLabelDefinitions(101359)
# sysrev.setLabelAnswer(project.id = 101359,
#                                article.id = 13164751,
#                                lbl.id = "cc53572d-9334-495b-9b92-1b3e095e1328",
#                                lbl.value = FALSE)

# tgt = function(answer){
#   tibble(
#     aid=seq_along(answer),
#     answer = purrr::map(answer,~jsonlite::from_json(.)$labels)) |>
#     tidyr::unnest_longer(answer,indices_to = "row") |>
#     tidyr::unnest_longer(answer,indices_to = "lid") |>
#     select(.data$aid,.data$row,.data$lid,value=.data$.answer) |>
#     group_by(.data$aid) |> nest() |> ungroup() |> pull(data) |>
#     purrr::map(~ structure(.,class=c(class(.),"rsr_group")))
# }
# 

